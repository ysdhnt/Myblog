<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>0.5人前ジャーナル | ホーム</title>
  <link rel="stylesheet" href="ブログ.css">
  <link rel="icon" type="image/png" href="img/ファビコン丸形.png">
</head>
<body>
  <header>
    <img src="img/ホームアイコン.png" width="200px" height="70px"></a>
    <nav class="navigation">
        <h3><a href="index.html">Home</a></h3>
        <h3>About</h3>
        <h3>Contact</h3>
    </nav>
  </header>

  <div class="container">
    <main>
      <div class="tag-buttons">
        <button onclick="filterPosts('すべて')">すべて</button>
        <button onclick="filterPosts('趣味')">趣味</button>
        <button onclick="filterPosts('日常')">日常</button>
        <button onclick="filterPosts('その他')">その他</button>
      </div>

      <div class="posts" id="postList">
        <div class="post" data-category="趣味">
         <a href="好きな曲ランキング.html?id=blog3">
          <img src="img/点描の唄ジャケット.jpg" alt="ブログ画像">
          <div class="post-content">
            <h2>好きな曲ランキング</h2>
            <p>2025/4/16</p>
            <div class="tag">#趣味</div>
            <span id="likes-blog3">0 いいね</span>
          </div>
         </a>
        </div>
        <div class="post" data-category="その他">
         <a href="僕って人はこんな人.html?id=blog2">
          <img src="img/ニュース1.jpeg" alt="ニュース画像">
          <div class="post-content">
            <h2>僕って人はこんな人</h2>
            <p>2025/4/14</p>
            <div class="tag">#その他</div>
            <span id="likes-blog2">0 いいね</span>
          </div>
         </a>
        </div>
        <div class="post" data-category="その他">
          <a href="初投稿.html?id=blog1">
           <img src="img/デザイン1.jpg" alt="記事画像">
           <div class="post-content">
             <h2>僕とこのブログについて</h2>
             <p>2025/4/14</p>
             <div class="tag">#その他</div>
             <span id="likes-blog1">0 いいね</span>
           </div>
          </a>
        </div>
      </div>
    </main>
    <aside>
      <h3>プロフィール</h3>
      <div class="picture">
       <img src="img/プロフィール用アイコン.png" width="100px" height="100px"></a>
       <p class="name">マイルドマインド</p>
      </div>
      <p>こんにちは！デザイン練習中の大学1年生です。日常や気になったニュース、好きなものを記事にしていきます！<br></p>

      <h3>人気記事</h3>
      <ul>
        <li>今後追加予定</li>
        <li>今後追加予定</li>
        <li>今後追加予定</li>
      </ul>
    </aside>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyA974kQAXG_l3j2EP0wSRs_M-P8BAhjYvk",
      authDomain: "my-blog-comments-31d2a.firebaseapp.com",
      projectId: "my-blog-comments-31d2a",
      storageBucket: "my-blog-comments-31d2a.firebasestorage.app",
      messagingSenderId: "947054447547",
      appId: "1:947054447547:web:1a5599ae0e1638c5c7929e",
      databaseURL: "https://my-blog-comments-31d2a-default-rtdb.asia-southeast1.firebasedatabase.app"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const articleIds = ["blog1", "blog2", "blog3"]; // 記事IDをリストで

    articleIds.forEach(id => {
      const likeRef = ref(db, `likes/${id}`);
      onValue(likeRef, (snapshot) => {
        const data = snapshot.val() || 0;
        document.getElementById(`likes-${id}`).textContent = `${data} いいね`;
      });
    });
  </script>
  <script>
        function filterPosts(category) {
      const posts = document.querySelectorAll('.post');

      posts.forEach(post => {
        const postCategory = post.getAttribute('data-category');

        if (category === 'all' || postCategory === category) {
          post.style.display = 'block';
        } else {
          post.style.display = 'none';
        }
      });
    }

    window.filterPosts = filterPosts;
  </script>
</body>
</html>