<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>0.5人前ジャーナル | ホーム</title>
  <link rel="stylesheet" href="ブログ.css">
  <link rel="icon" type="image/png" href="img/ファビコン丸形.png">
</head>
<body>
  <header>
    <img src="img/ホームアイコン.png" width="200px" height="70px"></a>
    <nav class="navigation">
        <h3><a href="index.html">Home</a></h3>
        <h3>About</h3>
        <h3>Contact</h3>
    </nav>
  </header>

  <div class="container">
    <main>
      <div class="tag-buttons">
        <button onclick="filterPosts('すべて')">すべて</button>
        <button onclick="filterPosts('趣味')">趣味</button>
        <button onclick="filterPosts('日常')">日常</button>
        <button onclick="filterPosts('その他')">その他</button>
      </div>

      <div class="posts" id="postList">
        <div class="post" data-tag="趣味">
         <a href="好きな曲ランキング.html?id=blog3">
          <img src="img/点描の唄ジャケット.jpg" alt="ブログ画像">
          <div class="post-content">
            <h2>好きな曲ランキング</h2>
            <p>2025/4/16</p>
            <div class="tag">#趣味</div>
            <span id="like-count-article1">0</span> 👍
          </div>
         </a>
        </div>
        <div class="post" data-tag="その他">
         <a href="僕って人はこんな人.html?id=blog2">
          <img src="img/ニュース1.jpeg" alt="ニュース画像">
          <div class="post-content">
            <h2>僕って人はこんな人</h2>
            <p>2025/4/14</p>
            <div class="tag">#その他</div>
            <span id="like-count-article1">0</span> 👍
          </div>
         </a>
        </div>
        <div class="post" data-tag="その他">
         <div class="article" data-article-id="blog1"></div>
          <a href="初投稿.html?id=blog1">
           <img src="img/デザイン1.jpg" alt="記事画像">
           <div class="post-content">
             <h2>僕とこのブログについて</h2>
             <p>2025/4/14</p>
             <div class="tag">#その他</div>
             <span class="like-count">0</span> 👍
           </div>
          </a>
         </div>
        </div>
      </div>
    </main>
    <aside>
      <h3>プロフィール</h3>
      <div class="picture">
       <img src="img/プロフィール用アイコン.png" width="100px" height="100px"></a>
       <p class="name">マイルドマインド</p>
      </div>
      <p>こんにちは！デザイン練習中の大学1年生です。日常や気になったニュース、好きなものを記事にしていきます！<br></p>

      <h3>人気記事</h3>
      <ul>
        <li>今後追加予定</li>
        <li>今後追加予定</li>
        <li>今後追加予定</li>
      </ul>
    </aside>
  </div>

  <script>
    function filterPosts(tag) {
      const posts = document.querySelectorAll('.post');
      posts.forEach(post => {
        if (tag === 'すべて' || post.dataset.tag === tag) {
          post.style.display = 'block';
        } else {
          post.style.display = 'none';
        }
      });
    }
    const db = firebase.database();

// .article をすべて取得
const articles = document.querySelectorAll(".article");

articles.forEach((articleElement) => {
  const articleId = articleElement.dataset.articleId;
  const likeCountSpan = articleElement.querySelector(".like-count");

  const likeRef = db.ref("likes/" + articleId);
  likeRef.on("value", (snapshot) => {
    likeCountSpan.textContent = snapshot.val() || 0;
  });
});
  </script>

</body>
</html>